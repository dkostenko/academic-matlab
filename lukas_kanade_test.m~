Im = double(imread('cameraman.tif'));


sigma = 0.5;

[x,y]=ndgrid(floor(-3*sigma):ceil(3*sigma),floor(-3*sigma):ceil(3*sigma));
DGaussx=-(x./(2*pi*sigma^4)).*exp(-(x.^2+y.^2)/(2*sigma^2));
DGaussy=-(y./(2*pi*sigma^4)).*exp(-(x.^2+y.^2)/(2*sigma^2));


DGaussx = È


Ix = imfilter(Im,DGaussx,'conv');
Iy = imfilter(Im,DGaussy,'conv');




subplot(1,3,1), subimage(uint8(Im));
subplot(1,3,2), subimage(Ix);
subplot(1,3,3), subimage(Iy);